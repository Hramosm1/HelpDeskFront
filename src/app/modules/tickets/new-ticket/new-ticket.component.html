<app-base title="Nuevo Ticket" subtitle="Tickets">
  <mat-card>
    <mat-card-header>
    </mat-card-header>
    <mat-card-content>
      <!-- Compose form -->
      <form class="flex flex-col flex-auto p-6 sm:p-8 overflow-y-auto" [formGroup]="composeForm">

        <!-- To -->
        <mat-form-field>
          <mat-label>To</mat-label>
          <input matInput [formControlName]="'to'">
          <div class="copy-fields-toggles" matSuffix>
            <span class="text-sm font-medium cursor-pointer select-none hover:underline" *ngIf="!copyFields.cc"
              (click)="showCopyField('cc')">
              Cc
            </span>
            <span class="ml-2 text-sm font-medium cursor-pointer select-none hover:underline" *ngIf="!copyFields.bcc"
              (click)="showCopyField('bcc')">
              Bcc
            </span>
          </div>
        </mat-form-field>

        <select [(ngModel)]="selectedColor" [ngStyle]="{'background-color': selectedColor}">
          <option *ngFor="let color of colors" [ngStyle]="{'background': color.value}" [ngValue]="color">
            {{color.name}}
          </option>
        </select>
        <!-- Cc -->
        <mat-form-field *ngIf="copyFields.cc">
          <mat-label>Cc</mat-label>
          <input matInput [formControlName]="'cc'">
        </mat-form-field>

        <!-- Bcc -->
        <mat-form-field *ngIf="copyFields.bcc">
          <mat-label>Bcc</mat-label>
          <input matInput [formControlName]="'bcc'">
        </mat-form-field>

        <!-- Subject -->
        <mat-form-field>
          <mat-label>Subject</mat-label>
          <input matInput [formControlName]="'subject'">
        </mat-form-field>

        <!-- Body -->
        <quill-editor class="mt-2" [formControlName]="'body'" [modules]="quillModules"></quill-editor>

        <!-- Actions -->
        <div class="flex flex-col sm:flex-row sm:items-center justify-between mt-4 sm:mt-6">
          <div class="-ml-2">
            <!-- Attach file -->
            <button mat-icon-button>
              <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:paper-clip'"></mat-icon>
            </button>
            <!-- Insert link -->
            <button mat-icon-button>
              <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:link'"></mat-icon>
            </button>
            <!-- Insert emoji -->
            <button mat-icon-button>
              <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:emoji-happy'"></mat-icon>
            </button>
            <!-- Insert image -->
            <button mat-icon-button>
              <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:photograph'"></mat-icon>
            </button>
          </div>

          <div class="flex items-center mt-4 sm:mt-0">
            <!-- Discard -->
            <button class="ml-auto sm:ml-0" mat-stroked-button (click)="discard()">
              Discard
            </button>
            <!-- Send -->
            <button class="order-first sm:order-last" mat-flat-button [color]="'primary'" (click)="send()">
              Send
            </button>
          </div>
        </div>
      </form>
    </mat-card-content>
  </mat-card>


</app-base>