<app-base title="Dashboard" subtitle="Dashboard">
	<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
		<ng-container *ngIf="informacionTickets">
			<mat-card class="shadow-lg">
				<mat-card-header>
					<div class="custom-header bg-green-600">
						<mat-icon class="text-white">note_add</mat-icon>
					</div>
					<span class="flex flex-1"></span>
					<h3 class="text-lg font-light">Tickets</h3>
				</mat-card-header>
				<mat-card-content class="text-right mt-4">
					<mat-divider inset class="shadow"></mat-divider>
					<span class="text-4xl text-bold">{{
						informacionTickets.ticketsCreados
					}}</span>
					<canvas baseChart [data]="data" [type]="'bar'"> </canvas>
				</mat-card-content>
			</mat-card>

			<!-- ******TIEMPO PROMEDIO POR TICKET***** -->
			<mat-card class="shadow-lg">
				<mat-card-header>
					<div class="custom-header bg-primary">
						<mat-icon class="text-on-primary">people</mat-icon>
					</div>
					<span class="flex flex-1"></span>
					<h3 class="text-lg font-light">Tickets Asignados</h3>
				</mat-card-header>
				<mat-card-content class="text-right mt-4">
					<mat-divider inset class="shadow"></mat-divider>
					<div class="flex place-content-center">
						<mat-table
							class="w-full"
							[dataSource]="informacionTickets.personalDeSoporte"
						>
							<ng-container matColumnDef="personalAsignado">
								<mat-header-cell *matHeaderCellDef> Personal </mat-header-cell>
								<mat-cell *matCellDef="let element">
									{{ element.personalAsignado }}
								</mat-cell>
							</ng-container>
							<ng-container matColumnDef="ticketsActivos">
								<mat-header-cell *matHeaderCellDef> Activos </mat-header-cell>
								<mat-cell *matCellDef="let element">
									{{ element.ticketsActivos }}
								</mat-cell>
							</ng-container>
							<ng-container matColumnDef="ticketsCerrados">
								<mat-header-cell *matHeaderCellDef> Cerrados </mat-header-cell>
								<mat-cell *matCellDef="let element">
									{{ element.ticketsCerrados }}
								</mat-cell>
							</ng-container>

							<mat-header-row
								*matHeaderRowDef="displayedColumns"
							></mat-header-row>
							<mat-row
								*matRowDef="let row; columns: displayedColumns"
							></mat-row>
						</mat-table>
						<!-- <canvas baseChart [type]="'bar'" [options]="options" [data]="ticketsAsignados"></canvas> -->
					</div>
				</mat-card-content>
			</mat-card>

			<mat-card class="shadow-lg">
				<mat-card-header>
					<div class="custom-header bg-warn">
						<mat-icon class="text-on-warn">book</mat-icon>
					</div>
					<span class="flex flex-1"></span>
					<h3 class="text-lg font-light">Tiempo por ticket</h3>
				</mat-card-header>
				<mat-card-content class="text-right mt-4">
					<mat-divider inset class="shadow"></mat-divider>
					<mat-table class="w-full" [dataSource]="tiemposPromedio">
						<ng-container matColumnDef="personal">
							<mat-header-cell *matHeaderCellDef>
								Personal de soporte
							</mat-header-cell>
							<mat-cell *matCellDef="let element">
								{{ element.personal }}
							</mat-cell>
						</ng-container>
						<ng-container matColumnDef="promedio">
							<mat-header-cell *matHeaderCellDef>
								Tiempo promedio por ticket
							</mat-header-cell>
							<mat-cell *matCellDef="let element">
								{{ element.promedio }}
							</mat-cell>
						</ng-container>
						<!-- press ctrl + space to add more column snippet or delete this line -->

						<mat-header-row
							*matHeaderRowDef="['personal', 'promedio']"
						></mat-header-row>
						<mat-row
							*matRowDef="let row; columns: ['personal', 'promedio']"
						></mat-row>
					</mat-table>
				</mat-card-content>
			</mat-card>
		</ng-container>
		<!-- *************************TIMELAPSE*********************** -->
		-
		<mat-card class="col-span-3">
			<mat-card-header>
				<mat-card-title>Tickets por dia</mat-card-title>
			</mat-card-header>
			<mat-card-content>
				<canvas baseChart [data]="tpdData" [type]="'bar'" [options]="options">
				</canvas>
			</mat-card-content>
		</mat-card>
	</div>
</app-base>
